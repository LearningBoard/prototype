<!DOCTYPE html>
<html>
<body>

<form enctype="multipart/form-data" method="post" name="fileinfo">
  <label>File to stash:</label>
  <input type="file" name="file" required />
  <input type="submit" value="Upload File" />
</form>
<div></div>

<script>

var form = document.forms.namedItem("fileinfo");
form.addEventListener('submit', function(ev) {

    var posting = false;
    var oData = new FormData(form);    

    if (posting){


        var oReq = new XMLHttpRequest();
        oReq.open("POST", "stash.php", true);
        oReq.onload = function(oEvent) {
            if (oReq.status == 200) {
                oOutput.innerHTML = "Uploaded!";
            } else {
                oOutput.innerHTML = "Error " + oReq.status + " occurred when trying to upload your file.<br \/>";
            }
        };
        oReq.send(oData);
    }
    else{
        console.log(oData);
    }

    ev.preventDefault();

}, false);

</script>

</body>
</html>